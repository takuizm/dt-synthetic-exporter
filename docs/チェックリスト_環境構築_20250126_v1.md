# âœ… ç’°å¢ƒæ§‹ç¯‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
ä½œæˆæ—¥: 2025-01-26  
ç”¨é€”: åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚ã®ç¢ºèªç”¨  

## ğŸ“‹ äº‹å‰æº–å‚™ãƒã‚§ãƒƒã‚¯

### ğŸ” ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶ç¢ºèª

- [ ] **OS**: macOS 10.14ä»¥ä¸Š ã¾ãŸã¯ Windows 10ä»¥ä¸Š
- [ ] **Python**: Python 3.8ä»¥ä¸Š
- [ ] **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶š
- [ ] **Dynatrace**: æœ‰åŠ¹ãªãƒ†ãƒŠãƒ³ãƒˆã‚¢ã‚¯ã‚»ã‚¹
- [ ] **æ¨©é™**: ç®¡ç†è€…æ¨©é™ï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç”¨ï¼‰

### ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª

- [ ] `README.md` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨
- [ ] `synthetic_browser_exporter.py` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨  
- [ ] `requirements.txt` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨
- [ ] `run_synthetic_exporter.sh` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨
- [ ] `.env.template` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ãŒå®Œå…¨ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿

---

## ğŸ› ï¸ ç’°å¢ƒæ§‹ç¯‰ã‚¹ãƒ†ãƒƒãƒ—

### STEP 1: Pythonç’°å¢ƒç¢ºèª

#### 1-1. ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³èµ·å‹•

**ğŸ macOS:**
- [ ] **Finder** â†’ **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³** â†’ **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£** â†’ **ã‚¿ãƒ¼ãƒŸãƒŠãƒ«** ã‚’é–‹ã

**ğŸªŸ Windows:**
- [ ] **ã‚¹ã‚¿ãƒ¼ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼** â†’ **ã€Œcmdã€ã¨å…¥åŠ›** â†’ **ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ** ã‚’é–‹ã

#### 1-2. Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª

**macOS:**
```bash
python3 --version
```

**Windows:**
```cmd
python --version
```

- [ ] `Python 3.8.x` ä»¥ä¸ŠãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„

#### 1-3. Python ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ
- [ ] [Pythonå…¬å¼ã‚µã‚¤ãƒˆ](https://www.python.org/downloads/)ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- [ ] ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†å¾Œã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†èµ·å‹•
- [ ] å†åº¦ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªã§æˆåŠŸ

---

### STEP 2: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•

#### 2-1. ãƒ•ã‚©ãƒ«ãƒ€ãƒ‘ã‚¹ç¢ºèª
```bash
pwd
```
- [ ] ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç¢ºèª

#### 2-2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•
```bash
cd ~/Downloads/dt-synthetic-exporter
```
**ã¾ãŸã¯ ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§:**
```bash
cd 
```
(ãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ãƒ‰ãƒ©ãƒƒã‚°)

#### 2-3. ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª
```bash
ls -la
```
- [ ] `README.md` ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] `synthetic_browser_exporter.py` ãŒè¡¨ç¤ºã•ã‚Œã‚‹  
- [ ] `requirements.txt` ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] `run_synthetic_exporter.sh` ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] `.env.template` ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

### STEP 3: Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

#### 3-1. pipæœ€æ–°åŒ–ï¼ˆæ¨å¥¨ï¼‰
```bash
pip3 install --upgrade pip
```
- [ ] ã‚¨ãƒ©ãƒ¼ãªãå®Œäº†

#### 3-2. ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸€æ‹¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pip3 install -r requirements.txt
```
- [ ] `requests` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æˆåŠŸ
- [ ] `python-dotenv` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æˆåŠŸ  
- [ ] `pytz` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æˆåŠŸ
- [ ] `pandas` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æˆåŠŸ

#### 3-3. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
```bash
python3 -c "import requests, pandas, pytz; print('âœ… å…¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç¢ºèªæ¸ˆ')"
```
- [ ] `âœ… å…¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç¢ºèªæ¸ˆ` ã¨è¡¨ç¤ºã•ã‚Œã‚‹

#### 3-4. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¤±æ•—æ™‚ã®å€‹åˆ¥å¯¾å¿œ
```bash
pip3 install requests>=2.28.0
pip3 install python-dotenv>=0.19.0  
pip3 install pytz>=2021.3
pip3 install pandas
```
- [ ] å„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå€‹åˆ¥ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æˆåŠŸ

---

### STEP 4: Dynatrace APIè¨­å®š

#### 4-1. APIãƒˆãƒ¼ã‚¯ãƒ³å–å¾—

**Dynatraceç’°å¢ƒã§ã®ä½œæ¥­:**
- [ ] Dynatraceãƒ†ãƒŠãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³
- [ ] **Settings** ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã
- [ ] **Integration** â†’ **Dynatrace API** ã‚’é¸æŠ
- [ ] **API tokens** ã‚’é¸æŠ
- [ ] **Generate token** ã‚’ã‚¯ãƒªãƒƒã‚¯

**ãƒˆãƒ¼ã‚¯ãƒ³è¨­å®š:**
- [ ] **Token name**: `SyntheticExporter` ã‚’å…¥åŠ›
- [ ] **Scopes** ã§ä»¥ä¸‹ã«ãƒã‚§ãƒƒã‚¯:
  - [ ] âœ… `Read synthetic monitors`
  - [ ] âœ… `Read metrics`  
  - [ ] âœ… `Read entities`
- [ ] **Generate** ã‚’ã‚¯ãƒªãƒƒã‚¯
- [ ] ğŸ”‘ **ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦å®‰å…¨ã«ä¿å­˜**

#### 4-2. ç’°å¢ƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

```bash
cp .env.template .env
```
- [ ] `.env` ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã‚‹

#### 4-3. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†

```bash
open .env
```
- [ ] ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ãƒƒãƒˆãŒé–‹ã

**ç·¨é›†å†…å®¹:**
```
DT_API_TOKEN=dt0c01.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
DT_ENV_URL=https://ã‚ãªãŸã®ãƒ†ãƒŠãƒ³ãƒˆ.dynatrace.com
```

**ç·¨é›†ãƒã‚§ãƒƒã‚¯:**
- [ ] `DT_API_TOKEN=` ã®å¾Œã«ã‚³ãƒ”ãƒ¼ã—ãŸAPIãƒˆãƒ¼ã‚¯ãƒ³ã‚’è²¼ã‚Šä»˜ã‘
- [ ] `DT_ENV_URL=` ã®å¾Œã«Dynatraceãƒ†ãƒŠãƒ³ãƒˆURLã‚’å…¥åŠ›
- [ ] **ã‚¹ãƒšãƒ¼ã‚¹ãªã—ã€ã‚¯ã‚©ãƒ¼ãƒˆãªã—**ã§å…¥åŠ›
- [ ] **Command+S** ã§ä¿å­˜
- [ ] ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ãƒƒãƒˆã‚’é–‰ã˜ã‚‹

#### 4-4. è¨­å®šç¢ºèª

```bash
cat .env
```
- [ ] APIãƒˆãƒ¼ã‚¯ãƒ³ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ç’°å¢ƒURLãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] è¨­å®šé …ç›®ã«ä½™åˆ†ãªã‚¹ãƒšãƒ¼ã‚¹ãŒãªã„

#### 4-5. è¨­å®šå†…å®¹æ¤œè¨¼

```bash
python3 -c "
import os
from pathlib import Path
env_file = Path('.env')
if env_file.exists():
    with open(env_file, 'r') as f:
        for line in f:
            if '=' in line and not line.startswith('#'):
                key, value = line.strip().split('=', 1)
                if key == 'DT_API_TOKEN':
                    print(f'âœ… APIãƒˆãƒ¼ã‚¯ãƒ³: {value[:20]}...')
                elif key == 'DT_ENV_URL':  
                    print(f'âœ… ç’°å¢ƒURL: {value}')
else:
    print('âŒ .envãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“')
"
```

- [ ] `âœ… APIãƒˆãƒ¼ã‚¯ãƒ³: dt0c01...` ã¨è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] `âœ… ç’°å¢ƒURL: https://xxx.dynatrace.com` ã¨è¡¨ç¤ºã•ã‚Œã‚‹

---

### STEP 5: å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆ

#### 5-1. å®Ÿè¡Œæ¨©é™ä»˜ä¸

```bash
chmod +x run_synthetic_exporter.sh
```
- [ ] ã‚¨ãƒ©ãƒ¼ãªãå®Œäº†

#### 5-2. æ¥ç¶šãƒ†ã‚¹ãƒˆ

```bash
python3 -c "
import os
from pathlib import Path
env_file = Path('.env')
if env_file.exists():
    with open(env_file, 'r') as f:
        for line in f:
            if '=' in line and not line.startswith('#'):
                key, value = line.strip().split('=', 1)
                os.environ[key] = value

import requests
api_token = os.getenv('DT_API_TOKEN')
env_url = os.getenv('DT_ENV_URL')
response = requests.get(f'{env_url}/api/v1/synthetic/monitors', 
                       headers={'Authorization': f'Api-Token {api_token}'})
if response.status_code == 200:
    monitors = response.json().get('monitors', [])
    browser_monitors = [m for m in monitors if m.get('type') == 'BROWSER']
    print(f'âœ… æ¥ç¶šæˆåŠŸ: Browserç›£è¦–æ•° {len(browser_monitors)}')
else:
    print(f'âŒ æ¥ç¶šã‚¨ãƒ©ãƒ¼: {response.status_code}')
"
```

- [ ] `âœ… æ¥ç¶šæˆåŠŸ: Browserç›£è¦–æ•° X` ã¨è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºãªã„

#### 5-3. ç°¡å˜ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
python3 synthetic_browser_exporter.py --hours 1
```

- [ ] ã‚¨ãƒ©ãƒ¼ãªãå®Ÿè¡Œé–‹å§‹
- [ ] `âœ… CSVå‡ºåŠ›: output/ultimate_browser_results_*.csv` ã¨è¡¨ç¤º
- [ ] `âœ… ã‚µãƒãƒªãƒ¼ãƒ¬ãƒãƒ¼ãƒˆ: output/ultimate_browser_results_*_summary.json` ã¨è¡¨ç¤º

#### 5-4. å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª

```bash
ls -la output/
```

- [ ] `ultimate_browser_results_*.csv` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨
- [ ] `ultimate_browser_results_*_summary.json` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨

```bash
open output/ultimate_browser_results_*.csv
```

- [ ] CSVãƒ•ã‚¡ã‚¤ãƒ«ãŒExcelã§é–‹ã
- [ ] ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] 67ç¨®é¡ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã‚‹

---

## âœ… æœ€çµ‚ç¢ºèªãƒã‚§ãƒƒã‚¯

### ç’°å¢ƒç¢ºèª
- [ ] Python 3.8ä»¥ä¸ŠãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- [ ] å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå…¨ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- [ ] `.env` ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãè¨­å®šæ¸ˆã¿
- [ ] Dynatrace APIæ¥ç¶šãŒæˆåŠŸ

### æ©Ÿèƒ½ç¢ºèª  
- [ ] ãƒ„ãƒ¼ãƒ«ãŒæ­£å¸¸ã«å®Ÿè¡Œã§ãã‚‹
- [ ] CSVãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã‚‹
- [ ] Excelã§ãƒ‡ãƒ¼ã‚¿ã‚’é–‹ã‘ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ãªãå‹•ä½œå®Œäº†

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—æº–å‚™
- [ ] åŸºæœ¬çš„ãªå®Ÿè¡Œæ–¹æ³•ã‚’ç†è§£
- [ ] ã‚ˆãä½¿ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŠŠæ¡
- [ ] ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ–¹æ³•ã‚’ç¢ºèª

---

## ğŸš¨ ã‚ˆãã‚ã‚‹å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨å¯¾ç­–

### âŒ Python ãŒè¦‹ã¤ã‹ã‚‰ãªã„
**ç—‡çŠ¶**: `python3: command not found`  
**å¯¾ç­–**: Pythonå…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### âŒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¤±æ•—
**ç—‡çŠ¶**: `ERROR: Could not install packages`  
**å¯¾ç­–**: pipæ›´æ–°å¾Œã€å€‹åˆ¥ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Ÿè¡Œ

### âŒ APIæ¥ç¶šã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `âŒ æ¥ç¶šã‚¨ãƒ©ãƒ¼: 401`  
**å¯¾ç­–**: APIãƒˆãƒ¼ã‚¯ãƒ³ã®æ¨©é™ã¨URLã‚’å†ç¢ºèª

### âŒ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `ç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“`  
**å¯¾ç­–**: `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã¨ä¿å­˜ã‚’å†ç¢ºèª

### âŒ æ¨©é™ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `Permission denied`  
**å¯¾ç­–**: `chmod +x run_synthetic_exporter.sh` å®Ÿè¡Œ

---

**ğŸ‰ å…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒå®Œäº†ã—ãŸã‚‰ã€æœ¬æ ¼çš„ãªåˆ†æã‚’é–‹å§‹ã§ãã¾ã™ï¼** 